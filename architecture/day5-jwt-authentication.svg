<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="cognitoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="lambdaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1a202c">CloudOps Assistant - Day 5 Architecture</text>

  <!-- Frontend Layer -->
  <rect x="50" y="60" width="1100" height="120" rx="10" fill="url(#frontendGrad)" filter="url(#shadow)"/>
  <text x="70" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">📱 FRONTEND - Authenticated Web App</text>
  <text x="70" y="105" font-family="Arial, sans-serif" font-size="12" fill="white">🔐 Login/Register Forms • 🎫 JWT Token Storage • 🔒 Protected Routes • 📊 Authenticated Dashboards</text>
  <text x="70" y="125" font-family="Arial, sans-serif" font-size="12" fill="white">localStorage JWT Management • Authorization Headers • User Session Handling</text>
  <text x="70" y="145" font-family="Arial, sans-serif" font-size="12" fill="white">Files: index.html • Authentication UI • Token Management • CORS Headers</text>

  <!-- API Gateway Layer -->
  <rect x="50" y="200" width="1100" height="80" rx="10" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="70" y="225" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">🌐 API GATEWAY - JWT Protected REST API</text>
  <text x="70" y="245" font-family="Arial, sans-serif" font-size="12" fill="white">POST /auth/register • POST /auth/login • All endpoints require Authorization header</text>
  <text x="70" y="265" font-family="Arial, sans-serif" font-size="12" fill="white">CORS Enabled • JWT Validation • User Isolation • Rate Limiting</text>

  <!-- Cognito Authentication Layer -->
  <rect x="50" y="300" width="1100" height="100" rx="10" fill="url(#cognitoGrad)" filter="url(#shadow)" stroke="#FFD700" stroke-width="4"/>
  <text x="70" y="325" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">🔐 AWS COGNITO - User Pool Authentication</text>
  <rect x="950" y="305" width="40" height="20" rx="5" fill="#FFD700"/>
  <text x="970" y="318" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#000">NEW</text>
  <text x="70" y="345" font-family="Arial, sans-serif" font-size="12" fill="white">User Pool: cloudops-assistant-users • Client ID: 7j516gb4rslla3t8tjjiep1v46</text>
  <text x="70" y="365" font-family="Arial, sans-serif" font-size="12" fill="white">🎫 JWT Tokens • 📧 Email Verification • 🔒 Password Policy • 🔄 Token Refresh</text>
  <text x="70" y="385" font-family="Arial, sans-serif" font-size="12" fill="white">Access Token: 24h • ID Token: 24h • Refresh Token: 30 days</text>

  <!-- Lambda Functions Layer -->
  <rect x="50" y="420" width="180" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)" stroke="#FFD700" stroke-width="3"/>
  <text x="60" y="445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">🔑 AuthHandler</text>
  <rect x="170" y="425" width="30" height="15" rx="3" fill="#FFD700"/>
  <text x="185" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#000">NEW</text>
  <text x="60" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">• User Registration</text>
  <text x="60" y="480" font-family="Arial, sans-serif" font-size="10" fill="white">• User Login</text>
  <text x="60" y="495" font-family="Arial, sans-serif" font-size="10" fill="white">• JWT Generation</text>
  <text x="60" y="510" font-family="Arial, sans-serif" font-size="10" fill="white">• Cognito Integration</text>
  <text x="60" y="530" font-family="Arial, sans-serif" font-size="9" fill="white">No Auth Required</text>
  <text x="60" y="550" font-family="Arial, sans-serif" font-size="9" fill="white">256MB • 30s</text>

  <rect x="250" y="420" width="180" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)"/>
  <text x="260" y="445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">📋 PlanProcessor</text>
  <text x="260" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">• JWT Required</text>
  <text x="260" y="480" font-family="Arial, sans-serif" font-size="10" fill="white">• User Isolation</text>
  <text x="260" y="495" font-family="Arial, sans-serif" font-size="10" fill="white">• Plan Processing</text>
  <text x="260" y="510" font-family="Arial, sans-serif" font-size="10" fill="white">• CORS Handling</text>
  <text x="260" y="530" font-family="Arial, sans-serif" font-size="9" fill="#FFD700" font-weight="bold">🔒 @auth_required</text>
  <text x="260" y="550" font-family="Arial, sans-serif" font-size="9" fill="white">512MB • 60s</text>

  <rect x="450" y="420" width="180" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)"/>
  <text x="460" y="445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">💰 CostAnalyzer</text>
  <text x="460" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">• JWT Required</text>
  <text x="460" y="480" font-family="Arial, sans-serif" font-size="10" fill="white">• User Isolation</text>
  <text x="460" y="495" font-family="Arial, sans-serif" font-size="10" fill="white">• Cost Analysis</text>
  <text x="460" y="510" font-family="Arial, sans-serif" font-size="10" fill="white">• 12h Cache TTL</text>
  <text x="460" y="530" font-family="Arial, sans-serif" font-size="9" fill="#FFD700" font-weight="bold">🔒 @auth_required</text>
  <text x="460" y="550" font-family="Arial, sans-serif" font-size="9" fill="white">256MB • 30s</text>

  <rect x="650" y="420" width="180" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)"/>
  <text x="660" y="445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">💸 BudgetManager</text>
  <text x="660" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">• JWT Required</text>
  <text x="660" y="480" font-family="Arial, sans-serif" font-size="10" fill="white">• User Isolation</text>
  <text x="660" y="495" font-family="Arial, sans-serif" font-size="10" fill="white">• Budget Config</text>
  <text x="660" y="510" font-family="Arial, sans-serif" font-size="10" fill="white">• Alert System</text>
  <text x="660" y="530" font-family="Arial, sans-serif" font-size="9" fill="#FFD700" font-weight="bold">🔒 @auth_required</text>
  <text x="660" y="550" font-family="Arial, sans-serif" font-size="9" fill="white">256MB • 30s</text>

  <rect x="850" y="420" width="180" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)"/>
  <text x="860" y="445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">📊 PlanHistory</text>
  <text x="860" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">• JWT Required</text>
  <text x="860" y="480" font-family="Arial, sans-serif" font-size="10" fill="white">• User Isolation</text>
  <text x="860" y="495" font-family="Arial, sans-serif" font-size="10" fill="white">• Plan Retrieval</text>
  <text x="860" y="510" font-family="Arial, sans-serif" font-size="10" fill="white">• Comparison</text>
  <text x="860" y="530" font-family="Arial, sans-serif" font-size="9" fill="#FFD700" font-weight="bold">🔒 @auth_required</text>
  <text x="860" y="550" font-family="Arial, sans-serif" font-size="9" fill="white">256MB • 30s</text>

  <rect x="1050" y="420" width="100" height="160" rx="10" fill="url(#lambdaGrad)" filter="url(#shadow)"/>
  <text x="1060" y="445" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">🔍 Repo</text>
  <text x="1060" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Scanner</text>
  <text x="1060" y="480" font-family="Arial, sans-serif" font-size="9" fill="white">• JWT Required</text>
  <text x="1060" y="495" font-family="Arial, sans-serif" font-size="9" fill="white">• User Isolation</text>
  <text x="1060" y="510" font-family="Arial, sans-serif" font-size="9" fill="white">• Real Terraform</text>
  <text x="1060" y="530" font-family="Arial, sans-serif" font-size="8" fill="#FFD700" font-weight="bold">🔒 @auth_required</text>
  <text x="1060" y="550" font-family="Arial, sans-serif" font-size="8" fill="white">1024MB • 300s</text>

  <!-- DynamoDB Layer -->
  <rect x="50" y="600" width="1100" height="120" rx="10" fill="url(#dbGrad)" filter="url(#shadow)"/>
  <text x="70" y="625" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">📈 DYNAMODB - User Isolated Data Storage</text>
  <text x="70" y="645" font-family="Arial, sans-serif" font-size="12" fill="white">🔒 All tables scoped by user_id • cloudops-assistant-terraform-plans • cloudops-assistant-budget-config • cloudops-assistant-cost-cache</text>
  <text x="70" y="665" font-family="Arial, sans-serif" font-size="12" fill="white">🔐 SSE Encryption • 🔄 Point-in-Time Recovery • ⏰ TTL Enabled • 💰 Pay-per-Request</text>
  <text x="70" y="685" font-family="Arial, sans-serif" font-size="12" fill="white">User Data Isolation • JWT-based Access Control • Secure Multi-tenancy</text>

  <!-- Connection Lines -->
  <line x1="600" y1="180" x2="600" y2="200" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="280" x2="600" y2="300" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="400" x2="600" y2="420" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="580" x2="600" y2="600" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Day 5 Badge -->
  <circle cx="1100" cy="100" r="30" fill="#4CAF50" filter="url(#shadow)"/>
  <text x="1100" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">DAY</text>
  <text x="1100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">5/30</text>

  <!-- Feature Status -->
  <text x="50" y="760" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">✅ JWT Authentication</text>
  <text x="200" y="760" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">✅ Cognito User Pool</text>
  <text x="350" y="760" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">✅ User Isolation</text>
  <text x="480" y="760" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">✅ Protected Endpoints</text>
  <text x="630" y="760" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">✅ CORS Fixed</text>

  <text x="50" y="780" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">🚧 Quality Pipeline (Day 6)</text>
  <text x="220" y="780" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">🚧 AI Assistant (Week 2)</text>
  <text x="380" y="780" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">🚧 Monitoring (Week 3)</text>
</svg>
